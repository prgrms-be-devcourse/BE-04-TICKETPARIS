name: ci

on:
  push: # ì•„ë˜ ë¸Œëœì¹˜ì— Pushë˜ë©´ ì‘ë™
    branches: [ "develop" ]
  pull_request: # ì•„ë˜ ë¸Œëœì¹˜ì— PullRequest ë˜ë©´ ì‘ë™
    branches: [ "develop" ]

permissions:
  checks: write
  pull-requests: write

# ì‘ì—…ë“¤
jobs:
  assign-reviewer:
    runs-on: ubuntu-latest
    steps:
      # https://github.com/hkusu/review-assign-action
      - name: PR Assignee, Reviewers
        uses: hkusu/review-assign-action@v1
        with:
          assignees: ${{ github.actor }} # ë³¸ì¸
          reviewers: Hchanghyeon, kylekim2123, jay-so, charlesuu  # ë¦¬ë·°ì–´ ì„ íƒ
          ready-comment: 'ì½”ë“œ ë¦¬ë·° ìš”ì²­í•©ë‹ˆë‹¤ ğŸ™† <reviewers>'
          merged-comment: 'ì„±ê³µì ìœ¼ë¡œ Merge ë˜ì—ˆìŠµë‹ˆë‹¤. Shout out to <reviewers> :wink:'

  # ì‘ì—… ëª…(ë³¸ì¸ì´ ì§€ìœ¼ë©´ ë¨)
  build:
    environment: develop # í™˜ê²½ develop
    runs-on: ubuntu-latest # ëŒ€ì—¬í•´ì£¼ëŠ” ì„œë²„
    steps:
      - uses: actions/checkout@v3 # ì½”ë“œ ì €ì¥ì†Œì— ì˜¬ë ¤ë‘” ì½”ë“œ CI ì„œë²„ ë‚´ë ¤ë°›ì€ í›„ íŠ¹ì • ë¸Œëœì¹˜ ì „í™˜í•˜ëŠ” í–‰ìœ„
      - name: Set up JDK 17
        uses: actions/setup-java@v3 # ìš”ì²­í•œ ìë°” ë²„ì „ ë‹¤ìš´ë¡œë“œí•˜ê³  ì„¤ì •
        with:
          java-version: '17' # ì§€ë°” ë²„ì „ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì„¤ì • í•„ìš”
          distribution: 'temurin'

      - name: Build with Gradle # ë¹Œë“œ ì‘ì—…
        uses: gradle/gradle-build-action@v2
        with:
          arguments: build
